{% extends 'base2.html' %}
{% block content %}
{% load static %}

<style>
  html,
  body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: white;
  }

  .centered-container {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 1rem;
    box-sizing: border-box;
    z-index: 1;
  }

  .row {
    background: rgb(247, 247, 247);
    width: fit-content;
    max-width: 100%;
    max-height: auto;
    margin: 0;
    border-style: solid;
    border-color: grey;
    border-width: .1rem;
    border-radius: 1rem;
    padding: 3rem;
    padding-bottom: 2rem;
  }

  .login-items-holder {
    height: fit-content;
    width: fit-content;
    max-width: fit-content;
    max-height: fit-content;
  }

  .user-passwd {
    height: 3rem;
  }

  .login-btn {
    height: 100%;
    width: 100%;
    min-height: 100%;
    min-width: 100%;
    border-radius: 1rem;
    font-size: 1rem;
    font-weight: bold;
    font-family: 'DM Sans', 'sans-serif';
    color: white;
    background-color: #0066FF;
    cursor: pointer;
  }

  .login-btn:disabled {
    background-color: grey;
    cursor: not-allowed;
  }

  p,
  .user-passwd {
    font-family: 'DM Sans', 'sans-serif';
  }

  .not-registered {
    margin-top: 2rem;
    color: black;
  }
</style>

<P><strong>Imagem que serve apenas para voltar</strong></P>
<a href="{% url 'pagina_principal' %}">
  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1haV3q_c4ipo7LJDCGLUHFpvahVYTABVbjQ&s" width="50px"
    height="50px">
</a>

<div class="container-fluid centered-container">
  <div class="row justify-content-center shadow-lg ">
    <div class="col-12 col-md-8 col-lg-6 login-items-holder">
      <form method="POST" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="mb-3">
          <p class="text-start text-black display-5 fw-bold login-text">Bem vindo ao plantaê!</p>
          <input type="text" class="form-control p-3 user-passwd" id="username" name="username" placeholder="Usuário">
        </div>
        <div class="mb-3">
          <input type="password" class="form-control p-3 user-passwd" id="password" name="password" placeholder="Senha">
        </div>
        <button type="submit" class="btn btn-primary login-btn" id="loginBtn" disabled>Entrar</button>
        <p class="not-registered">
          Não é registrado? <a href="http://localhost:8000/membros/registration/"
            class="link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">registro</a>
        </p>
      </form>
    </div>
  </div>
</div>

<script>
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  const loginBtn = document.getElementById('loginBtn');

  function toggleButtonState() {
    if (usernameInput.value.trim() !== "" && passwordInput.value.trim() !== "") {
      loginBtn.disabled = false;
    } else {
      loginBtn.disabled = true;
    }
  }

  usernameInput.addEventListener('input', toggleButtonState);
  passwordInput.addEventListener('input', toggleButtonState);
</script>

{% endblock %}